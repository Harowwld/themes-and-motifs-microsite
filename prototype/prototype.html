<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Themes & Motifs - The Philippines' most prestigious wedding resource. Find vendors, read reviews, and book suppliers."
    />
    <title>Themes & Motifs | The Wedding Marketplace</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Lato:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./prototype.css" />
  </head>
  <body>
    <header>
      <div class="container nav-flex">
        <div class="logo" onclick="app.navigate('home')">
          <img
            src="https://themesnmotifs.com/wp-content/uploads/elementor/thumbs/T_M-Logo-1-qzxx62xvcaywvxz23bwwe4nm1tu4exw9i42ghzw8g6.png"
            alt="Themes & Motifs"
            style="height: 36px"
            onerror="this.src='https://via.placeholder.com/150x50?text=Themes+Motifs'"
          />
        </div>
        <nav class="nav-links">
          <a
            class="nav-item"
            id="nav-admin"
            style="display: none"
            onclick="app.navigate('admin')"
            >Admin Dashboard</a
          >
          <div id="auth-section">
            <button class="btn-auth" onclick="app.navigate('login')">
              Sign In / Register
            </button>
          </div>
        </nav>
      </div>
    </header>

    <!-- HOME VIEW -->
    <div id="view-home" class="container">
      <section class="hero">
        <div class="hero-text">
          <h1 class="serif">
            Plan your perfect day.<br /><span
              style="color: var(--brand-brown); font-style: italic"
              >Find the best suppliers.</span
            >
          </h1>
          <p>Search over 1,000 verified wedding vendors with real reviews.</p>
        </div>
        <div class="hero-img"></div>
      </section>

      <div class="search-container">
        <!-- Removed sort from here -->
        <div class="search-grid">
          <input
            type="text"
            class="form-input"
            id="search-text"
            placeholder="Search Vendor Name (e.g. Nice Print)"
          />
          <select class="form-select" id="search-type">
            <option value="">All Categories</option>
            <option value="Venue">Venue</option>
            <option value="Photography">Photography</option>
            <option value="Catering">Catering</option>
            <option value="Stylist">Stylist</option>
            <option value="Attire">Attire</option>
          </select>
          <select class="form-select" id="search-location">
            <option value="">All Locations</option>
            <option value="Quezon City">Quezon City</option>
            <option value="Taguig">Taguig / BGC</option>
            <option value="Manila">Manila</option>
            <option value="Batangas">Batangas</option>
            <option value="Tagaytay">Tagaytay</option>
            <option value="Makati">Makati</option>
          </select>
          <button class="btn-primary" onclick="app.handleSearch(true)">
            Search
          </button>
        </div>
      </div>

      <div class="category-grid">
        <div
          class="cat-card"
          data-cat="Venue"
          onclick="app.filterByCat('Venue')"
        >
          <!-- New Home/Building Icon -->
          <svg
            class="cat-icon"
            viewBox="0 0 24 24"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            <polyline points="9 22 9 12 15 12 15 22"></polyline>
          </svg>
          <small>Venues</small>
        </div>

        <div
          class="cat-card"
          data-cat="Photography"
          onclick="app.filterByCat('Photography')"
        >
          <!-- New Camera Icon -->
          <svg
            class="cat-icon"
            viewBox="0 0 24 24"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path
              d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"
            ></path>
            <circle cx="12" cy="13" r="4"></circle>
          </svg>
          <small>Photo</small>
        </div>

        <div
          class="cat-card"
          data-cat="Catering"
          onclick="app.filterByCat('Catering')"
        >
          <!-- New Cutlery Icon -->
          <svg
            class="cat-icon"
            viewBox="0 0 24 24"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"></path>
            <path d="M7 2v20"></path>
            <path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"></path>
          </svg>
          <small>Catering</small>
        </div>

        <div
          class="cat-card"
          data-cat="Stylist"
          onclick="app.filterByCat('Stylist')"
        >
          <!-- New Wand/Sparkles Icon -->
          <svg
            class="cat-icon"
            viewBox="0 0 24 24"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M15 4V2"></path>
            <path d="M15 16v-2"></path>
            <path d="M8 9h2"></path>
            <path d="M20 9h2"></path>
            <path d="M17.8 11.8L19 13"></path>
            <path d="M15 9h0"></path>
            <path d="M17.8 6.2L19 5"></path>
            <path d="M3 21l9-9"></path>
            <path d="M12.2 6.2L11 5"></path>
          </svg>
          <small>Styling</small>
        </div>

        <div
          class="cat-card"
          data-cat="Attire"
          onclick="app.filterByCat('Attire')"
        >
          <!-- New Hanger Icon -->
          <svg
            class="cat-icon"
            viewBox="0 0 24 24"
            stroke="currentColor"
            fill="none"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M12 3a5 5 0 0 0-5 5v1h10V8a5 5 0 0 0-5-5z"></path>
            <path d="M3 14l3-3h12l3 3v8H3v-8z"></path>
          </svg>
          <small>Attire</small>
        </div>
      </div>

      <!-- New Sort and Count Toolbar above Vendor Grid -->
      <div class="grid-toolbar">
        <h2 class="serif" style="margin: 0">
          Featured Vendors
          <span
            id="vendor-count"
            style="
              font-size: 0.9rem;
              color: #888;
              font-family: 'Lato', sans-serif;
              font-weight: normal;
            "
          ></span>
        </h2>
        <div class="sort-wrapper">
          <label for="search-sort" style="font-size: 0.9rem; color: #666"
            >Sort by:</label
          >
          <select
            class="form-select"
            id="search-sort"
            style="width: auto; padding: 8px"
            onchange="app.handleSearch()"
          >
            <option value="rating">Top Rated</option>
            <option value="price_low">Price: Low to High</option>
            <option value="price_high">Price: High to Low</option>
          </select>
        </div>
      </div>

      <div class="vendor-grid" id="vendor-list-container"></div>
    </div>

    <!-- DETAIL VIEW -->
    <div id="view-detail" class="container hidden" style="padding-top: 40px">
      <button
        onclick="app.navigate('home')"
        style="
          background: none;
          border: none;
          text-decoration: underline;
          color: #666;
          margin-bottom: 10px;
        "
      >
        &larr; Back to Search
      </button>

      <div id="detail-content"></div>
    </div>

    <!-- BRIDAL FAIRS VIEW -->
    <div id="view-fairs" class="container hidden" style="padding-top: 40px">
      <h1 class="serif" style="margin-bottom: 10px">Upcoming Bridal Fairs</h1>
      <p style="color: #666; margin-bottom: 30px">
        Pre-register for the biggest wedding expos in the Philippines. Get free
        admission and exclusive deals.
      </p>
      <div id="fairs-list-container" class="vendor-grid">
        <!-- Fairs populated by JS -->
      </div>
    </div>

    <!-- LOGIN VIEW -->
    <div id="view-login" class="container hidden">
      <div class="auth-container">
        <h2 class="serif">Welcome Back</h2>
        <p style="margin-bottom: 20px; color: #666">
          Sign in to save vendors and leave reviews.
        </p>
        <input
          type="email"
          id="login-email"
          class="form-input"
          placeholder="Email Address"
          style="margin-bottom: 10px"
        />
        <input
          type="password"
          id="login-pass"
          class="form-input"
          placeholder="Password"
          style="margin-bottom: 20px"
        />
        <button class="btn-primary" style="width: 100%" onclick="app.login()">
          Sign In
        </button>
        <p style="margin-top: 15px; font-size: 0.8rem">
          Try <strong>admin@themes.com</strong> for Admin Access.
        </p>
      </div>
    </div>

    <!-- ADMIN VIEW -->
    <div id="view-admin" class="container hidden" style="padding-top: 40px">
      <h1 class="serif">Admin Dashboard</h1>
      <div style="display: flex; gap: 20px; margin-top: 20px">
        <div
          style="
            background: white;
            padding: 20px;
            flex: 1;
            border-radius: 8px;
            border: 1px solid #ddd;
          "
        >
          <h3>Total Vendors</h3>
          <p style="font-size: 2rem; font-weight: bold" id="admin-v-count">0</p>
        </div>
        <div
          style="
            background: white;
            padding: 20px;
            flex: 1;
            border-radius: 8px;
            border: 1px solid #ddd;
          "
        >
          <h3>Total Reviews</h3>
          <p style="font-size: 2rem; font-weight: bold" id="admin-r-count">0</p>
        </div>
      </div>

      <h3 style="margin-top: 40px">Manage Vendors</h3>
      <button
        class="btn-primary"
        style="padding: 5px 15px; font-size: 0.8rem; margin-bottom: 10px"
        onclick="app.openAddVendorModal()"
      >
        + Add New
      </button>
      <table class="admin-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Category</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="admin-v-list"></tbody>
      </table>
    </div>

    <!-- Add Vendor Modal -->
    <div
      id="add-vendor-modal"
      style="
        display: none;
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.4);
        align-items: center;
        justify-content: center;
        z-index: 2000;
      "
    >
      <div
        style="
          background: white;
          width: 460px;
          max-width: 95%;
          padding: 20px;
          border-radius: 8px;
          position: relative;
        "
      >
        <button
          onclick="app.closeAddVendorModal()"
          style="
            position: absolute;
            right: 10px;
            top: 10px;
            border: none;
            background: transparent;
            font-size: 1.2rem;
          "
        >
          Ã—
        </button>
        <h3 class="serif">Add New Vendor (Prototype)</h3>
        <div style="display: grid; gap: 8px; margin-top: 12px">
          <input id="new-v-name" class="form-input" placeholder="Vendor name" />
          <select id="new-v-type" class="form-select">
            <option>Venue</option>
            <option>Photography</option>
            <option>Catering</option>
            <option>Stylist</option>
            <option>Attire</option>
          </select>
          <input
            id="new-v-location"
            class="form-input"
            placeholder="Location"
          />
          <input
            id="new-v-price"
            class="form-input"
            placeholder="Price (number)"
          />
          <input
            id="new-v-contact"
            class="form-input"
            placeholder="Contact email"
          />
          <input id="new-v-image" class="form-input" placeholder="Image URL" />
          <textarea
            id="new-v-desc"
            class="form-input"
            placeholder="Description"
            rows="3"
          ></textarea>
          <div style="display: flex; gap: 8px; justify-content: flex-end">
            <button class="btn-primary" onclick="app.submitNewVendor()">
              Create
            </button>
            <button class="btn-auth" onclick="app.closeAddVendorModal()">
              Cancel
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="./prototype.js"></script>
  </body>
</html>

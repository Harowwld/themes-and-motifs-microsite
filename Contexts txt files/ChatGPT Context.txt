PROJECT: Wedding Marketplace Web App (Philippines)

GOAL:
- Real production-grade marketplace, not just MVP
- Cheap but reliable ("bang-for-buck") architecture
- Multi-role system (soon-to-weds, vendors/suppliers, admin)
- Features: vendor dashboard, saved vendors, reviews, inquiries, promotions, subscriptions, SEO

STACK DECISIONS:
- Frontend: Next.js (TypeScript) hosted on Netlify
- Backend: Supabase (PostgreSQL) handling DB, auth, storage, and serverless functions
- ORM: Prisma (for DB modeling and migrations)
- Storage: Supabase Buckets for images/docs
- Auth: Supabase Auth (role-based)
- Email: Supabase email templates; optional Resend integration
- Payments: Stripe for subscription plans (planned later)

INFRA & COST NOTES:
- Frontend hosted on Netlify: Free → $19/mo
- Supabase: Free → $25/mo early stage
- Storage included in Supabase; cheap and scalable
- Resend (email) cheap starter
- Stripe transaction fees only
- Total early-stage cost: ~$40–60/month

WORK DONE / ACCOMPLISHED:
- Database schema designed with relationships for:
  - users
  - vendors
  - reviews
  - inquiries
  - saved items
  - promotions
  - plans
- RLS enabled and recommended for all user-facing tables
- Buckets created in Supabase Storage for:
  - vendor galleries
  - profile photos
  - verification documents
  - promo images
- Email templates set up in Supabase (welcome, verification, inquiry, approval)
- Role column implemented in users table for:
  - soon_to_wed
  - vendor
  - admin

NEXT STEPS (LOGICAL BUILD ORDER):
1. Implement authentication & role assignment
2. Build core CRUD workflows via Supabase (RPC or client)
   - Vendor CRUD
   - Reviews
   - Inquiries
   - Saved vendors
3. Integrate file uploads from frontend → Supabase Storage
4. Build frontend pages/components:
   - User-facing: vendor listings, detail pages, search, saved vendors, reviews
   - Vendor dashboard: edit profile, upload gallery, view inquiries, manage promos
   - Admin dashboard: approve vendors, manage categories, view analytics
5. Connect email triggers to workflows
6. Payments (Stripe) for premium plans
7. Testing: end-to-end, RLS enforcement, UI validation
8. Deploy: Netlify (frontend), Supabase (backend), storage, email

BEST PRACTICES NOTED:
- Use foreign keys for all relationships
- Add indexes on frequently filtered fields
- Soft deletes with `deleted_at` timestamp
- Enums only for stable categories (role, verification status, plan type)
- Separate public/private data where necessary
- Track timestamps (`created_at`, `updated_at`) for all tables
- Maintain computed/aggregate columns for ratings, reviews, inquiries
- Never trust frontend for permissions
- Keep files out of DB, use storage buckets

NOTES:
- Workflow order prioritized database first → backend functions → frontend → integration
- Security & RLS policies emphasized as mandatory
- Architecture aims for minimal DevOps while remaining production-ready
